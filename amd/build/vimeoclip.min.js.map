{"version":3,"file":"vimeoclip.min.js","sources":["../src/vimeoclip.js"],"sourcesContent":["\r\ndefine(['jquery', 'core/log','https://player.vimeo.com/api/player.js'], function($, log, Vimeo) {\r\n    \"use strict\";\r\n\r\n    //user statements like this to send log output to console\r\n    log.debug('MiniLesson VIMEO Clip Player: initialising');\r\n\r\n    return {\r\n        initVideo: function(container) {\r\n            var that = this;\r\n            that.loadPlayer(container);\r\n        },\r\n\r\n        loadPlayer: function(container) {\r\n            var that = this;\r\n            var theDiv = $(\"#\" + container);\r\n            var startSeconds = theDiv.data('start');\r\n            var endSeconds = theDiv.data('end');\r\n\r\n            var options = {\r\n                id: theDiv.data('video'),\r\n                width: theDiv.data('width'),\r\n                height: theDiv.data('height'),\r\n                autoplay: false,\r\n                loop: false,\r\n                byline: false,\r\n                title: false,\r\n                portrait: false,\r\n                api: true,\r\n                player_id: container\r\n            };\r\n\r\n            log.debug('Creating XXXX Vimeo player with options:', options);\r\n            var thePlayer = new Vimeo(container, options);\r\n\r\n            thePlayer.ready().then(function() {\r\n                log.debug('Vimeo player is ready');\r\n                thePlayer.setVolume(0);\r\n                if (!isNaN(startSeconds) && startSeconds > 0) {\r\n                    thePlayer.setCurrentTime(startSeconds);\r\n                }\r\n\r\n                thePlayer.on('timeupdate', function(data) {\r\n                    if (endSeconds && data.seconds >= endSeconds) {\r\n                        thePlayer.setCurrentTime(startSeconds).then(function () {\r\n                            thePlayer.pause();\r\n                        }).catch(function(error) {\r\n                            log.error('Error rewinding the video', error);\r\n                        });\r\n                    }\r\n                });\r\n            }).catch(function(error) {\r\n                log.error('Error initializing Vimeo player:', error);\r\n            });\r\n        }\r\n    };\r\n});\r\n"],"names":["define","$","log","Vimeo","debug","initVideo","container","this","loadPlayer","theDiv","startSeconds","data","endSeconds","options","id","width","height","autoplay","loop","byline","title","portrait","api","player_id","thePlayer","ready","then","setVolume","isNaN","setCurrentTime","on","seconds","pause","catch","error"],"mappings":"AACAA,kCAAO,CAAC,SAAU,WAAW,2CAA2C,SAASC,EAAGC,IAAKC,cAIrFD,IAAIE,MAAM,8CAEH,CACHC,UAAW,SAASC,WACLC,KACNC,WAAWF,YAGpBE,WAAY,SAASF,eAEbG,OAASR,EAAE,IAAMK,WACjBI,aAAeD,OAAOE,KAAK,SAC3BC,WAAaH,OAAOE,KAAK,OAEzBE,QAAU,CACVC,GAAIL,OAAOE,KAAK,SAChBI,MAAON,OAAOE,KAAK,SACnBK,OAAQP,OAAOE,KAAK,UACpBM,UAAU,EACVC,MAAM,EACNC,QAAQ,EACRC,OAAO,EACPC,UAAU,EACVC,KAAK,EACLC,UAAWjB,WAGfJ,IAAIE,MAAM,2CAA4CS,aAClDW,UAAY,IAAIrB,MAAMG,UAAWO,SAErCW,UAAUC,QAAQC,MAAK,WACnBxB,IAAIE,MAAM,yBACVoB,UAAUG,UAAU,IACfC,MAAMlB,eAAiBA,aAAe,GACvCc,UAAUK,eAAenB,cAG7Bc,UAAUM,GAAG,cAAc,SAASnB,MAC5BC,YAAcD,KAAKoB,SAAWnB,YAC9BY,UAAUK,eAAenB,cAAcgB,MAAK,WACxCF,UAAUQ,WACXC,OAAM,SAASC,OACdhC,IAAIgC,MAAM,4BAA6BA,gBAIpDD,OAAM,SAASC,OACdhC,IAAIgC,MAAM,mCAAoCA"}