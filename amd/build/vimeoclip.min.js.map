{"version":3,"file":"vimeoclip.min.js","sources":["../src/vimeoclip.js"],"sourcesContent":["\ndefine(['jquery', 'core/log','https://player.vimeo.com/api/player.js'], function ($, log, Vimeo) {\n    \"use strict\";\n\n    //user statements like this to send log output to console\n    log.debug('MiniLesson VIMEO Clip Player: initialising');\n\n    return {\n        initVideo: function (container) {\n            var that = this;\n            that.loadPlayer(container);\n        },\n\n        loadPlayer: function (container) {\n            var that = this;\n            var theDiv = $(\"#\" + container);\n            var startSeconds = theDiv.data('start');\n            var endSeconds = theDiv.data('end');\n\n            var options = {\n                id: theDiv.data('video'),\n                width: theDiv.data('width'),\n                height: theDiv.data('height'),\n                autoplay: false,\n                loop: false,\n                byline: false,\n                title: false,\n                portrait: false,\n                api: true,\n                player_id: container\n            };\n\n            log.debug('Creating XXXX Vimeo player with options:', options);\n            var thePlayer = new Vimeo(container, options);\n\n            thePlayer.ready().then(function () {\n                log.debug('Vimeo player is ready');\n                thePlayer.setVolume(0);\n                if (!isNaN(startSeconds) && startSeconds > 0) {\n                    thePlayer.setCurrentTime(startSeconds);\n                }\n\n                thePlayer.on('timeupdate', function (data) {\n                    if (endSeconds && data.seconds >= endSeconds) {\n                        thePlayer.setCurrentTime(startSeconds).then(function () {\n                            thePlayer.pause();\n                        }).catch(function (error) {\n                            log.error('Error rewinding the video', error);\n                        });\n                    }\n                });\n            }).catch(function (error) {\n                log.error('Error initializing Vimeo player:', error);\n            });\n        }\n    };\n});\n"],"names":["define","$","log","Vimeo","debug","initVideo","container","this","loadPlayer","theDiv","startSeconds","data","endSeconds","options","id","width","height","autoplay","loop","byline","title","portrait","api","player_id","thePlayer","ready","then","setVolume","isNaN","setCurrentTime","on","seconds","pause","catch","error"],"mappings":"AACAA,kCAAO,CAAC,SAAU,WAAW,2CAA2C,SAAUC,EAAGC,IAAKC,cAItFD,IAAIE,MAAM,8CAEH,CACHC,UAAW,SAAUC,WACNC,KACNC,WAAWF,YAGpBE,WAAY,SAAUF,eAEdG,OAASR,EAAE,IAAMK,WACjBI,aAAeD,OAAOE,KAAK,SAC3BC,WAAaH,OAAOE,KAAK,OAEzBE,QAAU,CACVC,GAAIL,OAAOE,KAAK,SAChBI,MAAON,OAAOE,KAAK,SACnBK,OAAQP,OAAOE,KAAK,UACpBM,UAAU,EACVC,MAAM,EACNC,QAAQ,EACRC,OAAO,EACPC,UAAU,EACVC,KAAK,EACLC,UAAWjB,WAGfJ,IAAIE,MAAM,2CAA4CS,aAClDW,UAAY,IAAIrB,MAAMG,UAAWO,SAErCW,UAAUC,QAAQC,MAAK,WACnBxB,IAAIE,MAAM,yBACVoB,UAAUG,UAAU,IACfC,MAAMlB,eAAiBA,aAAe,GACvCc,UAAUK,eAAenB,cAG7Bc,UAAUM,GAAG,cAAc,SAAUnB,MAC7BC,YAAcD,KAAKoB,SAAWnB,YAC9BY,UAAUK,eAAenB,cAAcgB,MAAK,WACxCF,UAAUQ,WACXC,OAAM,SAAUC,OACfhC,IAAIgC,MAAM,4BAA6BA,gBAIpDD,OAAM,SAAUC,OACfhC,IAAIgC,MAAM,mCAAoCA"}