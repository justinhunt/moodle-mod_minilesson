{"version":3,"file":"page.min.js","sources":["../src/page.js"],"sourcesContent":["define(['jquery', 'core/log', 'mod_minilesson/definitions'], function ($, log, def) {\n    \"use strict\"; // jshint ;_;\n\n  /*\n  This file is to manage the quiz stage\n   */\n\n    log.debug('MiniLesson Page: initialising');\n\n    return {\n\n        //for making multiple instances\n        clone: function () {\n            return $.extend(true, {}, this);\n        },\n\n\n        init: function (index, itemdata, quizhelper) {\n            this.register_events(index, itemdata, quizhelper);\n        },\n\n        prepare_html: function (itemdata) {\n          //do something\n        },\n\n        register_events: function (index, itemdata, quizhelper) {\n          //When click next button , report and leave it up to parent to eal with it.\n            $(\"#\" + itemdata.uniqueid + \"_container .minilesson_nextbutton\").on('click', function (e) {\n                var stepdata = {};\n                stepdata.index = index;\n                stepdata.hasgrade = false;\n                stepdata.totalitems = 0;\n                stepdata.correctitems = 0;\n                stepdata.grade = 0;\n                quizhelper.do_next(stepdata);\n            });\n            $(\"#\" + itemdata.uniqueid + \"_container\").on(\"showElement\", () => {\n                if (itemdata.timelimit > 0) {\n                    $(\"#\" + itemdata.uniqueid + \"_container .progress-container\").show();\n                    $(\"#\" + itemdata.uniqueid + \"_container .progress-container i\").show();\n                    $(\"#\" + itemdata.uniqueid + \"_container .progress-container #progresstimer\").progressTimer({\n                        height: '5px',\n                        timeLimit: itemdata.timelimit,\n                        onFinish: function () {\n                            $(\"#\" + itemdata.uniqueid + \"_container .minilesson_nextbutton\").trigger('click');\n                        }\n                    });\n                }\n            });\n        }\n    }; //end of return value\n});"],"names":["define","$","log","def","debug","clone","extend","this","init","index","itemdata","quizhelper","register_events","prepare_html","uniqueid","on","e","stepdata","hasgrade","totalitems","correctitems","grade","do_next","timelimit","show","progressTimer","height","timeLimit","onFinish","trigger"],"mappings":"AAAAA,6BAAO,CAAC,SAAU,WAAY,+BAA+B,SAAUC,EAAGC,IAAKC,YAO3ED,IAAIE,MAAM,iCAEH,CAGHC,MAAO,kBACIJ,EAAEK,QAAO,EAAM,GAAIC,OAI9BC,KAAM,SAAUC,MAAOC,SAAUC,iBACxBC,gBAAgBH,MAAOC,SAAUC,aAG1CE,aAAc,SAAUH,YAIxBE,gBAAiB,SAAUH,MAAOC,SAAUC,YAExCV,EAAE,IAAMS,SAASI,SAAW,qCAAqCC,GAAG,SAAS,SAAUC,OAC/EC,SAAW,GACfA,SAASR,MAAQA,MACjBQ,SAASC,UAAW,EACpBD,SAASE,WAAa,EACtBF,SAASG,aAAe,EACxBH,SAASI,MAAQ,EACjBV,WAAWW,QAAQL,aAEvBhB,EAAE,IAAMS,SAASI,SAAW,cAAcC,GAAG,eAAe,KACpDL,SAASa,UAAY,IACrBtB,EAAE,IAAMS,SAASI,SAAW,kCAAkCU,OAC9DvB,EAAE,IAAMS,SAASI,SAAW,oCAAoCU,OAChEvB,EAAE,IAAMS,SAASI,SAAW,iDAAiDW,cAAc,CACvFC,OAAQ,MACRC,UAAWjB,SAASa,UACpBK,SAAU,WACN3B,EAAE,IAAMS,SAASI,SAAW,qCAAqCe,QAAQ"}