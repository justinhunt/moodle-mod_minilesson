{"version":3,"sources":["../src/page.js"],"names":["define","$","log","debug","clone","extend","init","index","itemdata","quizhelper","register_events","prepare_html","uniqueid","on","do_next","hasgrade","totalitems","correctitems","grade","timelimit","show","progressTimer","height","timeLimit","onFinish","trigger"],"mappings":"AAAAA,OAAM,uBAAC,CAAC,QAAD,CAAW,UAAX,CAAuB,4BAAvB,CAAD,CAAuD,SAASC,CAAT,CAAYC,CAAZ,CAAsB,CACjF,aAMAA,CAAG,CAACC,KAAJ,CAAU,+BAAV,EAEA,MAAO,CAGHC,KAAK,CAAE,gBAAY,CACf,MAAOH,CAAAA,CAAC,CAACI,MAAF,IAAe,EAAf,CAAmB,IAAnB,CACV,CALE,CAQHC,IAAI,CAAE,cAASC,CAAT,CAAgBC,CAAhB,CAA0BC,CAA1B,CAAsC,CAC5C,KAAKC,eAAL,CAAqBH,CAArB,CAA4BC,CAA5B,CAAsCC,CAAtC,CACD,CAVI,CAYLE,YAAY,CAAE,uBAAmB,CAEhC,CAdI,CAgBLD,eAAe,CAAE,yBAASH,CAAT,CAAgBC,CAAhB,CAA0BC,CAA1B,CAAsC,CAErDR,CAAC,CAAC,IAAMO,CAAQ,CAACI,QAAf,CAA0B,mCAA3B,CAAD,CAAiEC,EAAjE,CAAoE,OAApE,CAA6E,UAAY,CAOvFJ,CAAU,CAACK,OAAX,CANe,CACJP,KADI,CACIA,CADJ,CAEJQ,QAFI,IAGJC,UAHI,CAGO,CAHP,CAIJC,YAJI,CAIS,CAJT,CAKJC,KALI,CAKI,CALJ,CAMf,CACD,CARD,EASAjB,CAAC,CAAC,IAAMO,CAAQ,CAACI,QAAf,CAA0B,YAA3B,CAAD,CAA0CC,EAA1C,CAA6C,aAA7C,CAA4D,UAAM,CAC9D,GAAyB,CAArB,CAAAL,CAAQ,CAACW,SAAb,CAA4B,CAC1BlB,CAAC,CAAC,IAAMO,CAAQ,CAACI,QAAf,CAA0B,gCAA3B,CAAD,CAA8DQ,IAA9D,GACAnB,CAAC,CAAC,IAAMO,CAAQ,CAACI,QAAf,CAA0B,kCAA3B,CAAD,CAAgEQ,IAAhE,GACAnB,CAAC,CAAC,IAAMO,CAAQ,CAACI,QAAf,CAA0B,+CAA3B,CAAD,CAA6ES,aAA7E,CAA2F,CACvFC,MAAM,CAAE,KAD+E,CAEvFC,SAAS,CAAEf,CAAQ,CAACW,SAFmE,CAGvFK,QAAQ,CAAE,mBAAW,CACjBvB,CAAC,CAAC,IAAMO,CAAQ,CAACI,QAAf,CAA0B,mCAA3B,CAAD,CAAiEa,OAAjE,CAAyE,OAAzE,CACH,CALsF,CAA3F,CAOD,CACJ,CAZD,CAaD,CAxCI,CA0CR,CAnDK,CAAN","sourcesContent":["define(['jquery', 'core/log', 'mod_minilesson/definitions'], function($, log, def) {\n  \"use strict\"; // jshint ;_;\n\n  /*\n  This file is to manage the quiz stage\n   */\n\n  log.debug('MiniLesson Page: initialising');\n\n  return {\n\n      //for making multiple instances\n      clone: function () {\n          return $.extend(true, {}, this);\n      },\n\n\n      init: function(index, itemdata, quizhelper) {\n      this.register_events(index, itemdata, quizhelper);\n    },\n\n    prepare_html: function(itemdata) {\n      //do something\n    },\n\n    register_events: function(index, itemdata, quizhelper) {\n      //When click next button , report and leave it up to parent to eal with it.\n      $(\"#\" + itemdata.uniqueid + \"_container .minilesson_nextbutton\").on('click', function(e) {\n        var stepdata = {};\n          stepdata.index = index;\n          stepdata.hasgrade = false;\n          stepdata.totalitems=0;\n          stepdata.correctitems=0;\n          stepdata.grade = 0;\n        quizhelper.do_next(stepdata);\n      });\n      $(\"#\" + itemdata.uniqueid + \"_container\").on(\"showElement\", () => {\n          if (itemdata.timelimit > 0) {\n            $(\"#\" + itemdata.uniqueid + \"_container .progress-container\").show();\n            $(\"#\" + itemdata.uniqueid + \"_container .progress-container i\").show();\n            $(\"#\" + itemdata.uniqueid + \"_container .progress-container #progresstimer\").progressTimer({\n                height: '5px',\n                timeLimit: itemdata.timelimit,\n                onFinish: function() {\n                    $(\"#\" + itemdata.uniqueid + \"_container .minilesson_nextbutton\").trigger('click');\n                }\n            });\n          }\n      });\n    }\n  }; // End of return value\n});"],"file":"page.min.js"}