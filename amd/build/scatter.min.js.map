{"version":3,"file":"scatter.min.js","sources":["../src/scatter.js"],"sourcesContent":["\n// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Scatter app javascript for Poodll minilesson\n *\n * @package    mod_minilesson\n * @copyright  2024 Justin Hunt (poodllsupport@gmail.com)\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/notification', 'mod_minilesson/definitions', 'core/log', 'core/templates','mod_minilesson/animatecss', 'core/ajax', 'core/str'],\n    function($, notification, def, log, templates, anim,  Ajax, str) {\n\n  \"use strict\"; // jshint ;_;\n\n  /*\n  This file is to manage the Space Game item type.\n   */\n\n  log.debug('MiniLesson Scatter: initialising');\n\n        return {\n\n            pointer: 1,\n            jsondata: null,\n            props: null,\n            language: 'en-US',\n            terms: [],\n            definitions: [],\n            scatteritems: [],\n            displayterms: [],\n            results: [],\n            controls: {},\n\n            //for making multiple instances\n            clone: function () {\n                return $.extend(true, {}, this);\n            },\n\n\n            init: function (index, itemdata, quizhelper) {\n                var self = this;\n\n                console.log(itemdata);\n\n\n                //init terms\n                for (var i = 0; i < itemdata.scatteritems.length; i++) {\n                    self.terms[i] = itemdata.scatteritems[i].term;\n                    self.definitions[i] = itemdata.scatteritems[i].definition;\n                }\n                self.scatteritems = itemdata.scatteritems;\n                self.language = itemdata.language;\n                self.itemdata = itemdata;\n                self.index = index;\n                self.quizhelper = quizhelper;\n\n                //anim\n                var animopts = {};\n                animopts.useanimatecss = quizhelper.useanimatecss;\n                anim.init(animopts);\n\n                this.init_controls();\n                this.register_events();\n                this.start();\n\n\n            },  //end of init\n\n            init_controls: function () {\n                var self = this;\n\n                self.controls = {};\n                self.controls.stage = $(\"#\" + self.itemdata.uniqueid + \"_container .ml_scatter_stage\");\n                self.controls.next_button = $(\"#\" + self.itemdata.uniqueid + \"_container .minilesson_nextbutton\");\n            },\n\n            next_question: function () {\n                var self = this;\n\n                var stepdata = {};\n                stepdata.index = self.index;\n                stepdata.hasgrade = true;\n                stepdata.totalitems = self.terms.length;\n                stepdata.correctitems = self.results.filter(function (e) {\n                    return e.points > 0;\n                }).length;\n                stepdata.grade = Math.round((stepdata.correctitems / stepdata.totalitems) * 100);\n                self.quizhelper.do_next(stepdata);\n            },\n\n            register_events: function () {\n                var self = this;\n\n                self.controls.next_button.click(function () {\n                    self.next_question();\n                });\n            },\n\n            start: function() {\n\n            }\n\n\n        }; //end of return\n});"],"names":["define","$","notification","def","log","templates","anim","Ajax","str","debug","pointer","jsondata","props","language","terms","definitions","scatteritems","displayterms","results","controls","clone","extend","this","init","index","itemdata","quizhelper","console","i","length","term","definition","animopts","useanimatecss","init_controls","register_events","start","stage","uniqueid","next_button","next_question","stepdata","hasgrade","totalitems","correctitems","filter","e","points","grade","Math","round","do_next","self","click"],"mappings":";;;;;;;AAwBAA,gCAAO,CAAC,SAAU,oBAAqB,6BAA8B,WAAY,iBAAiB,4BAA6B,YAAa,aACxI,SAASC,EAAGC,aAAcC,IAAKC,IAAKC,UAAWC,KAAOC,KAAMC,YAQ9DJ,IAAIK,MAAM,oCAEG,CAEHC,QAAS,EACTC,SAAU,KACVC,MAAO,KACPC,SAAU,QACVC,MAAO,GACPC,YAAa,GACbC,aAAc,GACdC,aAAc,GACdC,QAAS,GACTC,SAAU,GAGVC,MAAO,kBACInB,EAAEoB,QAAO,EAAM,GAAIC,OAI9BC,KAAM,SAAUC,MAAOC,SAAUC,YAG7BC,QAAQvB,IAAIqB,cAIP,IAAIG,EAAI,EAAGA,EAAIH,SAAST,aAAaa,OAAQD,IANvCN,KAOFR,MAAMc,GAAKH,SAAST,aAAaY,GAAGE,KAPlCR,KAQFP,YAAYa,GAAKH,SAAST,aAAaY,GAAGG,WARxCT,KAUNN,aAAeS,SAAST,aAVlBM,KAWNT,SAAWY,SAASZ,SAXdS,KAYNG,SAAWA,SAZLH,KAaNE,MAAQA,MAbFF,KAcNI,WAAaA,eAGdM,SAAW,GACfA,SAASC,cAAgBP,WAAWO,cACpC3B,KAAKiB,KAAKS,eAELE,qBACAC,uBACAC,SAKTF,cAAe,WACAZ,KAENH,SAAW,GAFLG,KAGNH,SAASkB,MAAQpC,EAAE,IAHbqB,KAGwBG,SAASa,SAAW,gCAH5ChB,KAINH,SAASoB,YAActC,EAAE,IAJnBqB,KAI8BG,SAASa,SAAW,sCAGjEE,cAAe,eAGPC,SAAW,GACfA,SAASjB,MAHEF,KAGWE,MACtBiB,SAASC,UAAW,EACpBD,SAASE,WALErB,KAKgBR,MAAMe,OACjCY,SAASG,aANEtB,KAMkBJ,QAAQ2B,QAAO,SAAUC,UAC3CA,EAAEC,OAAS,KACnBlB,OACHY,SAASO,MAAQC,KAAKC,MAAOT,SAASG,aAAeH,SAASE,WAAc,KATjErB,KAUNI,WAAWyB,QAAQV,WAG5BN,gBAAiB,eACTiB,KAAO9B,KAEX8B,KAAKjC,SAASoB,YAAYc,OAAM,WAC5BD,KAAKZ,oBAIbJ,MAAO"}