{"version":3,"file":"h5p.min.js","sources":["../src/h5p.js"],"sourcesContent":["define(['jquery', 'core/log', 'mod_minilesson/definitions'],\n    function($, log, def, anim) {\n  \"use strict\"; // jshint ;_;\n\n  /*\n  This file is to manage the H5P item type\n   */\n\n  log.debug('MiniLesson H5P: initialising');\n\n  return {\n\n    //for making multiple instances\n      clone: function () {\n          return $.extend(true, {}, this);\n     },\n\n    init: function(index, itemdata, quizhelper) {\n      this.itemdata = itemdata;\n      this.register_events(index, itemdata, quizhelper);\n      log.debug('MiniLesson H5P URL: ' + itemdata.h5purl);\n      log.debug('MiniLesson H5P Total Marks: ' + itemdata.totalmarks);\n\n    },\n    next_question: function(percent) {\n      var self = this;\n      var stepdata = {};\n      stepdata.index = self.index;\n      stepdata.hasgrade = true;\n      stepdata.totalitems = 1;\n      stepdata.correctitems = percent>0?1:0;\n      stepdata.grade = percent;\n      self.quizhelper.do_next(stepdata);\n    },\n\n    register_events: function(index, itemdata, quizhelper) {\n      \n      var self = this;\n      self.index = index;\n      self.quizhelper = quizhelper;\n      var h5pplayer = $(\"#\" + itemdata.uniqueid + \"_h5pplayer\");\n      var nextbutton = $(\"#\" + itemdata.uniqueid + \"_container .minilesson_nextbutton\");\n      \n      nextbutton.on('click', function(e) {\n        self.next_question(0);\n      });\n\n    },\n\n  };\n});"],"names":["define","$","log","def","anim","debug","clone","extend","this","init","index","itemdata","quizhelper","register_events","h5purl","totalmarks","next_question","percent","stepdata","hasgrade","totalitems","correctitems","grade","do_next","self","uniqueid","on","e"],"mappings":"AAAAA,4BAAO,CAAC,SAAU,WAAY,+BAC1B,SAASC,EAAGC,IAAKC,IAAKC,aAOxBF,IAAIG,MAAM,gCAEH,CAGHC,MAAO,kBACIL,EAAEM,QAAO,EAAM,GAAIC,OAGhCC,KAAM,SAASC,MAAOC,SAAUC,iBACzBD,SAAWA,cACXE,gBAAgBH,MAAOC,SAAUC,YACtCV,IAAIG,MAAM,uBAAyBM,SAASG,QAC5CZ,IAAIG,MAAM,+BAAiCM,SAASI,aAGtDC,cAAe,SAASC,aAElBC,SAAW,GACfA,SAASR,MAFEF,KAEWE,MACtBQ,SAASC,UAAW,EACpBD,SAASE,WAAa,EACtBF,SAASG,aAAeJ,QAAQ,EAAE,EAAE,EACpCC,SAASI,MAAQL,QANNT,KAONI,WAAWW,QAAQL,WAG1BL,gBAAiB,SAASH,MAAOC,SAAUC,gBAErCY,KAAOhB,KACXgB,KAAKd,MAAQA,MACbc,KAAKZ,WAAaA,WACFX,EAAE,IAAMU,SAASc,SAAW,cAC3BxB,EAAE,IAAMU,SAASc,SAAW,qCAElCC,GAAG,SAAS,SAASC,GAC9BH,KAAKR,cAAc"}