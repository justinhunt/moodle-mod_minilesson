define("mod_minilesson/vimeoclip",["jquery","core/log","https://player.vimeo.com/api/player.js"],(function($,log,Vimeo){return log.debug("MiniLesson VIMEO Clip Player: initialising"),{initVideo:function(container){this.loadPlayer(container)},loadPlayer:function(container){var theDiv=$("#"+container),startSeconds=theDiv.data("start"),endSeconds=theDiv.data("end"),options={id:theDiv.data("video"),width:theDiv.data("width"),height:theDiv.data("height"),autoplay:!1,loop:!1,byline:!1,title:!1,portrait:!1,api:!0,player_id:container};log.debug("Creating XXXX Vimeo player with options:",options);var thePlayer=new Vimeo(container,options);thePlayer.ready().then((function(){log.debug("Vimeo player is ready"),thePlayer.setVolume(0),!isNaN(startSeconds)&&startSeconds>0&&thePlayer.setCurrentTime(startSeconds),thePlayer.on("timeupdate",(function(data){endSeconds&&data.seconds>=endSeconds&&thePlayer.setCurrentTime(startSeconds).then((function(){thePlayer.pause()})).catch((function(error){log.error("Error rewinding the video",error)}))}))})).catch((function(error){log.error("Error initializing Vimeo player:",error)}))}}}));

//# sourceMappingURL=vimeoclip.min.js.map