{"version":3,"sources":["../src/progresstimer.js"],"names":["factory","define","amd","module","exports","root","jQuery","window","require","$","fn","progressTimer","options","settings","extend","defaults","each","empty","barContainer","addClass","css","height","bar","baseStyle","attr","timeLimit","appendTo","start","Date","limit","interval","setInterval","elapsed","width","removeClass","completeStyle","warningStyle","clearInterval","setTimeout","onFinish","call","action","warningThreshold"],"mappings":"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","sourcesContent":["/* jshint ignore:start */\n// Uses CommonJS, AMD or browser globals to create a jQuery plugin.\n(function(factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node/CommonJS\n        module.exports = function(root, jQuery) {\n            if (jQuery === undefined) {\n                // require('jQuery') returns a factory that requires window to\n                // build a jQuery instance, we normalize how we use modules\n                // that require this pattern but the window provided is a noop\n                // if it's defined (how jquery works)\n                if (typeof window !== 'undefined') {\n                    jQuery = require('jquery');\n                }\n                else {\n                    jQuery = require('jquery')(root);\n                }\n            }\n            factory(jQuery);\n            return jQuery;\n        };\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n    $.fn.progressTimer = function (options) {\n        var settings = $.extend({}, $.fn.progressTimer.defaults, options);\n\n        this.each(function () {\n            $(this).empty();\n            var barContainer = $(\"<div>\").addClass(\"progress active\").css('height', settings.height);\n            var bar = $(\"<div>\").addClass(\"progress-bar\").addClass(settings.baseStyle)\n                .attr(\"role\", \"progressbar\")\n                .attr(\"aria-valuenow\", \"0\")\n                .attr(\"aria-valuemin\", \"0\")\n                .attr(\"aria-valuemax\", settings.timeLimit);\n\n            bar.appendTo(barContainer);\n            barContainer.appendTo($(this));\n\n            var start = new Date();\n            var limit = settings.timeLimit * 1000;\n            var interval = window.setInterval(function () {\n                var elapsed = new Date() - start;\n                bar.width(((elapsed / limit) * 100) + \"%\");\n\n                if (limit - elapsed <= 5000) {\n                    bar.removeClass(settings.baseStyle)\n                        .removeClass(settings.completeStyle)\n                        .addClass(settings.warningStyle);\n                }\n\n                if (elapsed >= limit) {\n                    window.clearInterval(interval);\n\n                    bar.removeClass(settings.baseStyle)\n                        .removeClass(settings.warningStyle)\n                        .addClass(settings.completeStyle);\n\n                    setTimeout(() => settings.onFinish.call(this), 600);\n                }\n\n            }, 250);\n\n            $(this).attr('timer', interval);\n        });\n\n        return this;\n    };\n\n    $.fn.progressTimer.defaults = {\n        action: '',\n        height: '5px',\n        timeLimit: 60,// Total number of seconds\n        warningThreshold: 5,// Seconds remaining triggering switch to warning color\n        onFinish: function() {},// Invoked once the timer expires\n        baseStyle: 'bg-danger progress-bar progress-bar-animated',// Bootstrap progress bar style at the beginning of the timer\n        warningStyle: 'bg-danger progress-bar progress-bar-animated', // Bootstrap progress bar style in the warning phase\n        completeStyle: 'bg-danger progress-bar progress-bar-animated progress-bar-complete'// Bootstrap progress bar style at completion of timer\n    };\n}));\n/* jshint ignore:end */\n"],"file":"progresstimer.min.js"}