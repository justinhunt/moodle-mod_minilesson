{"version":3,"file":"youtubeclip.min.js","sources":["../src/youtubeclip.js"],"sourcesContent":["define(['jquery','core/log'], function($,log) {\n    \"use strict\"; // jshint ;_;\n\n\n    log.debug('MiniLesson YT Clip Player: initialising');\n\n    return{\n\n        initVideo: function(container) {\n            var that = this;\n            if (typeof(YT) == 'undefined' || typeof(YT.Player) == 'undefined') {\n                if (typeof(window.deferredYTClips) == 'undefined') {\n                    window.deferredYTClips=[];\n                }\n                window.deferredYTClips.push(container);\n                window.onYouTubeIframeAPIReady = function() {\n                    for(var i=0;i<window.deferredYTClips.length && i>-1;i++){\n                        that.loadPlayer(window.deferredYTClips[i]);\n                    }\n                };\n\n                $.getScript('//www.youtube.com/iframe_api');\n            } else {\n                that.loadPlayer(container);\n            }\n        }, //end of init video\n\n        loadPlayer: function(container) {\n            var that = this;\n            var theDiv = $(\"#\" + container);\n            var startSeconds = theDiv.data('start');\n            var endSeconds  = theDiv.data('end');\n            var thePlayer = new YT.Player(container, {\n                width: theDiv.data('width'),\n                height: theDiv.data('height'),\n                // For a list of all parameters, see:\n                // https://developers.google.com/youtube/player_parameters\n                playerVars: {\n                    autoplay: 0,\n                    controls: 1,\n                    modestbranding: 0,\n                    rel: 0,\n                    showinfo: 0\n                },\n                events: {\n                    onReady: function (e) {\n                        var videocue = {videoId: theDiv.data('video')};\n                        if(!isNaN(startSeconds) && startSeconds > 0){\n                            videocue.startSeconds = startSeconds\n                        }else{\n                            startSeconds = 0;\n                        }\n                        if(!isNaN(endSeconds) && endSeconds > 0){videocue.endSeconds = endSeconds;}\n                        e.target.cueVideoById(videocue);\n                    },\n                    onStateChange: function (e) {\n                        switch(e.data) {\n                            case YT.PlayerState.ENDED:\n                                thePlayer.seekTo(startSeconds);\n                                thePlayer.pauseVideo();\n                                break;\n                            case YT.PlayerState.PAUSED:\n                            case YT.PlayerState.PLAYING:\n                            default:\n\n                        }\n                    },\n                },\n            });\n        } //end of load player\n\n    };//end of return value\n});"],"names":["define","$","log","debug","initVideo","container","that","this","YT","Player","window","deferredYTClips","push","onYouTubeIframeAPIReady","i","length","loadPlayer","getScript","theDiv","startSeconds","data","endSeconds","thePlayer","width","height","playerVars","autoplay","controls","modestbranding","rel","showinfo","events","onReady","e","videocue","videoId","isNaN","target","cueVideoById","onStateChange","PlayerState","ENDED","seekTo","pauseVideo","PAUSED","PLAYING"],"mappings":"AAAAA,oCAAO,CAAC,SAAS,aAAa,SAASC,EAAEC,YAIrCA,IAAIC,MAAM,2CAEJ,CAEFC,UAAW,SAASC,eACZC,KAAOC,KACO,oBAAPC,SAA2C,IAAdA,GAAGC,aACD,IAA3BC,OAAOC,kBACdD,OAAOC,gBAAgB,IAE3BD,OAAOC,gBAAgBC,KAAKP,WAC5BK,OAAOG,wBAA0B,eACzB,IAAIC,EAAE,EAAEA,EAAEJ,OAAOC,gBAAgBI,QAAUD,GAAG,EAAEA,IAChDR,KAAKU,WAAWN,OAAOC,gBAAgBG,KAI/Cb,EAAEgB,UAAU,iCAEZX,KAAKU,WAAWX,YAIxBW,WAAY,SAASX,eAEba,OAASjB,EAAE,IAAMI,WACjBc,aAAeD,OAAOE,KAAK,SAC3BC,WAAcH,OAAOE,KAAK,OAC1BE,UAAY,IAAId,GAAGC,OAAOJ,UAAW,CACrCkB,MAAOL,OAAOE,KAAK,SACnBI,OAAQN,OAAOE,KAAK,UAGpBK,WAAY,CACRC,SAAU,EACVC,SAAU,EACVC,eAAgB,EAChBC,IAAK,EACLC,SAAU,GAEdC,OAAQ,CACJC,QAAS,SAAUC,OACXC,SAAW,CAACC,QAASjB,OAAOE,KAAK,WACjCgB,MAAMjB,eAAiBA,aAAe,EACtCe,SAASf,aAAeA,aAExBA,aAAe,GAEfiB,MAAMf,aAAeA,WAAa,IAAGa,SAASb,WAAaA,YAC/DY,EAAEI,OAAOC,aAAaJ,WAE1BK,cAAe,SAAUN,UACdA,EAAEb,WACAZ,GAAGgC,YAAYC,MAChBnB,UAAUoB,OAAOvB,cACjBG,UAAUqB,kBAETnC,GAAGgC,YAAYI,YACfpC,GAAGgC,YAAYK"}