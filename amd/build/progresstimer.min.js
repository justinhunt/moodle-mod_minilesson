var factory;factory=function($){$.fn.progressTimer=function(options){var settings=$.extend({},$.fn.progressTimer.defaults,options);return this.each((function(){$(this).empty();var barContainer=$("<div>").addClass("progress active").css("height",settings.height),bar=$("<div>").addClass("progress-bar").addClass(settings.baseStyle).attr("role","progressbar").attr("aria-valuenow","0").attr("aria-valuemin","0").attr("aria-valuemax",settings.timeLimit);bar.appendTo(barContainer),barContainer.appendTo($(this));var start=new Date,limit=1e3*settings.timeLimit,interval=window.setInterval((function(){var elapsed=new Date-start;bar.width(elapsed/limit*100+"%"),limit-elapsed<=5e3&&bar.removeClass(settings.baseStyle).removeClass(settings.completeStyle).addClass(settings.warningStyle),elapsed>=limit&&(window.clearInterval(interval),bar.removeClass(settings.baseStyle).removeClass(settings.warningStyle).addClass(settings.completeStyle),setTimeout((()=>settings.onFinish.call(this)),600))}),250);$(this).attr("timer",interval)})),this},$.fn.progressTimer.defaults={action:"",height:"5px",timeLimit:60,warningThreshold:5,onFinish:function(){},baseStyle:"bg-danger progress-bar progress-bar-animated",warningStyle:"bg-danger progress-bar progress-bar-animated",completeStyle:"bg-danger progress-bar progress-bar-animated progress-bar-complete"}},"function"==typeof define&&define.amd?define("mod_minilesson/progresstimer",["jquery"],factory):"object"==typeof module&&module.exports?module.exports=function(root,jQuery){return void 0===jQuery&&(jQuery="undefined"!=typeof window?require("jquery"):require("jquery")(root)),factory(jQuery),jQuery}:factory(jQuery);

//# sourceMappingURL=progresstimer.min.js.map