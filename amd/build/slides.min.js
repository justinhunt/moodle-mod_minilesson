function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(!a)return;if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor)c=a.constructor.name;if("Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _arrayLikeToArray(a,b)}function _iterableToArray(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,d=Array(b);c<b;c++){d[c]=a[c]}return d}function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var h=a.apply(b,c);function f(a){asyncGeneratorStep(h,d,e,f,g,"next",a)}function g(a){asyncGeneratorStep(h,d,e,f,g,"throw",a)}f(void 0)})}}define ("mod_minilesson/slides",["jquery","core/log","mod_minilesson/definitions","./reveal","core/str","core/modal_factory","core/fragment"],function(a,b,c,d,f,g,h){"use strict";b.debug("MiniLesson Slides: initialising");return{instance:null,itemdata:{},clone:function clone(){return a.extend(!0,{},this)},init:function init(a,b,c){this.itemdata=b;this.register_events(a,b,c)},prepare_html:function prepare_html(){},register_events:function register_events(b,c,e){var f=this;a("#"+c.uniqueid+"_container .minilesson_nextbutton").on("click",function(){e.do_next({index:b,hasgrade:!1,totalitems:0,correctitems:0,grade:0})});a("#"+c.uniqueid+"_container").on("showElement",function(){var b=_asyncToGenerator(regeneratorRuntime.mark(function b(g){return regeneratorRuntime.wrap(function(b){while(1){switch(b.prev=b.next){case 0:if(f.instance){b.next=5;break}b.next=3;return d.init(g.target.querySelector(".reveal"));case 3:f.instance=b.sent;f.instance.initialize();case 5:d.setTheme(f.itemdata.selectedtheme);if(0<c.timelimit){a("#"+c.uniqueid+"_container .progress-container").show();a("#"+c.uniqueid+"_container .progress-container i").show();a("#"+c.uniqueid+"_container .progress-container #progresstimer").progressTimer({height:"5px",timeLimit:c.timelimit,onFinish:function onFinish(){a("#"+c.uniqueid+"_container .minilesson_nextbutton").trigger("click")}})}case 7:case"end":return b.stop();}}},b)}));return function(){return b.apply(this,arguments)}}())},register_previewbutton:function register_previewbutton(a){var b=document.getElementById(a);if(!b){return}b.addEventListener("click",function(a){a.preventDefault();var c=b.form;if(!c){return}g.create({type:g.types.CANCEL,large:!0,removeOnClose:!0,templateContext:{classes:"minilesson-slides-preview-modal"},title:f.get_string("slides:previewmodaltitle","mod_minilesson"),body:h.loadFragment("mod_minilesson","preview_slides",M.cfg.contextid,{formdata:new URLSearchParams(_toConsumableArray(new FormData(c).entries())).toString()})}).then(function(a){a.getFooter().addClass("d-none");a.show()})});if(b.form){var c=b.form.querySelector("[data-control=\"theme\"]");if(c){c.addEventListener("change",function(a){d.setTheme(a.target.value)});d.setTheme(c.value)}}}}});
//# sourceMappingURL=slides.min.js.map
