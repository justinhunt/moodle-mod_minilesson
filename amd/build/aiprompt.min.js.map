{"version":3,"file":"aiprompt.min.js","sources":["../src/aiprompt.js"],"sourcesContent":["define(['jquery', 'core/fragment'], function ($, Fragment) {\n    return {\n        init: function () {\n            $('select[data-name=\"instructionsaiprompt\"]').on('change', function () {\n                const val = $(this).val();\n                const itemtype = $(this).data('type') || '';\n                const textarea = $('textarea[data-name=\"aigrade_instructions\"]');\n                if (parseInt(val) === 0) {\n                    return;\n                }\n                Fragment.loadFragment(\n                    'mod_minilesson',\n                    'ai_prompt',\n                    M.cfg.contextid,\n                    { promptid: val, prompttype: 'instructions', itemtype: itemtype }\n                ).done(function (text) {\n                    textarea.val(text);\n                });\n            });\n\n            $('select[data-name=\"gradingaiprompt\"]').on('change', function () {\n                const val = $(this).val();\n                const itemtype = $(this).data('type') || '';\n                const textarea = $('textarea[data-name=\"aigrade_grade\"]');\n                if (parseInt(val) === 0) {\n                    return;\n                }\n                Fragment.loadFragment(\n                    'mod_minilesson',\n                    'ai_prompt',\n                    M.cfg.contextid,\n                    { promptid: val, prompttype: 'grading', itemtype: itemtype }\n                ).done(function (text) {\n                    textarea.val(text);\n                });\n            });\n\n            $('select[data-name=\"feedbackaiprompt\"]').on('change', function () {\n                const val = $(this).val();\n                const itemtype = $(this).data('type') || '';\n                const textarea = $('textarea[data-name=\"aigrade_feedback\"]');\n                if (parseInt(val) === 0) {\n                    return;\n                }\n                Fragment.loadFragment(\n                    'mod_minilesson',\n                    'ai_prompt',\n                    M.cfg.contextid,\n                    { promptid: val, prompttype: 'feedback', itemtype: itemtype }\n                ).done(function (text) {\n                    textarea.val(text);\n                });\n            });\n        }\n    };\n});"],"names":["define","$","Fragment","init","on","val","this","itemtype","data","textarea","parseInt","loadFragment","M","cfg","contextid","promptid","prompttype","done","text"],"mappings":"AAAAA,iCAAO,CAAC,SAAU,kBAAkB,SAAUC,EAAGC,gBACtC,CACHC,KAAM,WACFF,EAAE,4CAA4CG,GAAG,UAAU,iBACjDC,IAAMJ,EAAEK,MAAMD,MACdE,SAAWN,EAAEK,MAAME,KAAK,SAAW,GACnCC,SAAWR,EAAE,8CACG,IAAlBS,SAASL,MAGbH,SAASS,aACL,iBACA,YACAC,EAAEC,IAAIC,UACN,CAAEC,SAAUV,IAAKW,WAAY,eAAgBT,SAAUA,WACzDU,MAAK,SAAUC,MACbT,SAASJ,IAAIa,YAIrBjB,EAAE,uCAAuCG,GAAG,UAAU,iBAC5CC,IAAMJ,EAAEK,MAAMD,MACdE,SAAWN,EAAEK,MAAME,KAAK,SAAW,GACnCC,SAAWR,EAAE,uCACG,IAAlBS,SAASL,MAGbH,SAASS,aACL,iBACA,YACAC,EAAEC,IAAIC,UACN,CAAEC,SAAUV,IAAKW,WAAY,UAAWT,SAAUA,WACpDU,MAAK,SAAUC,MACbT,SAASJ,IAAIa,YAIrBjB,EAAE,wCAAwCG,GAAG,UAAU,iBAC7CC,IAAMJ,EAAEK,MAAMD,MACdE,SAAWN,EAAEK,MAAME,KAAK,SAAW,GACnCC,SAAWR,EAAE,0CACG,IAAlBS,SAASL,MAGbH,SAASS,aACL,iBACA,YACAC,EAAEC,IAAIC,UACN,CAAEC,SAAUV,IAAKW,WAAY,WAAYT,SAAUA,WACrDU,MAAK,SAAUC,MACbT,SAASJ,IAAIa"}