{"version":3,"sources":["../src/aiprompt.js"],"names":["define","$","Fragment","init","on","val","itemtype","data","textarea","parseInt","loadFragment","M","cfg","contextid","promptid","prompttype","done","text"],"mappings":"AAAAA,OAAM,2BAAC,CAAC,QAAD,CAAW,eAAX,CAAD,CAA8B,SAASC,CAAT,CAAYC,CAAZ,CAAsB,CACtD,MAAO,CACHC,IAAI,CAAE,eAAW,CACbF,CAAC,CAAC,uCAAD,CAAD,CAAyCG,EAAzC,CAA4C,QAA5C,CAAsD,UAAW,IACvDC,CAAAA,CAAG,CAAGJ,CAAC,CAAC,IAAD,CAAD,CAAQI,GAAR,EADiD,CAEvDC,CAAQ,CAAGL,CAAC,CAAC,IAAD,CAAD,CAAQM,IAAR,CAAa,MAAb,GAAwB,EAFoB,CAGvDC,CAAQ,CAAGP,CAAC,CAAC,8CAAD,CAH2C,CAI7D,GAAsB,CAAlB,GAAAQ,QAAQ,CAACJ,CAAD,CAAZ,CAAyB,CACrB,MACH,CACDH,CAAQ,CAACQ,YAAT,CACI,gBADJ,CAEI,WAFJ,CAGIC,CAAC,CAACC,GAAF,CAAMC,SAHV,CAII,CAAEC,QAAQ,CAAET,CAAZ,CAAiBU,UAAU,CAAE,SAA7B,CAAwCT,QAAQ,CAAEA,CAAlD,CAJJ,EAKEU,IALF,CAKO,SAASC,CAAT,CAAe,CAClBT,CAAQ,CAACH,GAAT,CAAaY,CAAb,CACH,CAPD,CAQH,CAfD,EAiBAhB,CAAC,CAAC,wCAAD,CAAD,CAA0CG,EAA1C,CAA6C,QAA7C,CAAuD,UAAW,IACxDC,CAAAA,CAAG,CAAGJ,CAAC,CAAC,IAAD,CAAD,CAAQI,GAAR,EADkD,CAExDC,CAAQ,CAAGL,CAAC,CAAC,IAAD,CAAD,CAAQM,IAAR,CAAa,MAAb,GAAwB,EAFqB,CAGxDC,CAAQ,CAAGP,CAAC,CAAC,0CAAD,CAH4C,CAI9D,GAAsB,CAAlB,GAAAQ,QAAQ,CAACJ,CAAD,CAAZ,CAAyB,CACrB,MACH,CACDH,CAAQ,CAACQ,YAAT,CACI,gBADJ,CAEI,WAFJ,CAGIC,CAAC,CAACC,GAAF,CAAMC,SAHV,CAII,CAAEC,QAAQ,CAAET,CAAZ,CAAiBU,UAAU,CAAE,UAA7B,CAAyCT,QAAQ,CAAEA,CAAnD,CAJJ,EAKEU,IALF,CAKO,SAASC,CAAT,CAAe,CAClBT,CAAQ,CAACH,GAAT,CAAaY,CAAb,CACH,CAPD,CAQH,CAfD,CAgBH,CAnCE,CAqCV,CAtCK,CAAN","sourcesContent":["define(['jquery', 'core/fragment'], function($, Fragment) {\n    return {\n        init: function() {\n            $('select[data-name=\"gradingaiprompt\"]').on('change', function() {\n                const val = $(this).val();\n                const itemtype = $(this).data('type') || '';\n                const textarea = $('textarea[data-name=\"aigrade_instructions\"]');\n                if (parseInt(val) === 0) {\n                    return;\n                }\n                Fragment.loadFragment(\n                    'mod_minilesson',\n                    'ai_prompt',\n                    M.cfg.contextid,\n                    { promptid: val, prompttype: 'grading', itemtype: itemtype }\n                ).done(function(text) {\n                    textarea.val(text);\n                });\n            });\n\n            $('select[data-name=\"feedbackaiprompt\"]').on('change', function() {\n                const val = $(this).val();\n                const itemtype = $(this).data('type') || '';\n                const textarea = $('textarea[data-name=\"aigrade_feedback\"]');\n                if (parseInt(val) === 0) {\n                    return;\n                }\n                Fragment.loadFragment(\n                    'mod_minilesson',\n                    'ai_prompt',\n                    M.cfg.contextid,\n                    { promptid: val, prompttype: 'feedback', itemtype: itemtype }\n                ).done(function(text) {\n                    textarea.val(text);\n                });\n            });\n        }\n    };\n});"],"file":"aiprompt.min.js"}