define(["exports","core/log"],(function(_exports,_log){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=async function(element,awsregion){let themename=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if("ningxia"===(theregion=awsregion,theregion))var revealJSURL=chinaJSURL,revealMarkdownURL=chinaMarkdownURL,revealCssURL=chinaCssURL;else revealJSURL=globalJSURL,revealMarkdownURL=globalMarkdownURL,revealCssURL=globalCssURL;hasRevealCSS()||revealcssLinkElement||(revealcssLinkElement=document.createElement("link"),revealcssLinkElement.setAttribute("rel","stylesheet"),revealcssLinkElement.setAttribute("href",revealCssURL),revealcssLinkElement.id="revealCssRoot",revealcssLinkElement.addEventListener("load",(function(){dispatchEvent(new CustomEvent("RevealCSSLoaded"))})),appendLinkElement(revealcssLinkElement,null));var Reveal=await("function"==typeof _systemImportTransformerGlobalIdentifier.define&&_systemImportTransformerGlobalIdentifier.define.amd?new Promise((function(resolve,reject){_systemImportTransformerGlobalIdentifier.require([revealJSURL],resolve,reject)})):"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require||"undefined"!=typeof module&&module.component&&_systemImportTransformerGlobalIdentifier.require&&"component"===_systemImportTransformerGlobalIdentifier.require.loader?Promise.resolve(require(revealJSURL)):Promise.resolve(_systemImportTransformerGlobalIdentifier[revealJSURL])),RevealMarkdown=await("function"==typeof _systemImportTransformerGlobalIdentifier.define&&_systemImportTransformerGlobalIdentifier.define.amd?new Promise((function(resolve,reject){_systemImportTransformerGlobalIdentifier.require([revealMarkdownURL],resolve,reject)})):"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require||"undefined"!=typeof module&&module.component&&_systemImportTransformerGlobalIdentifier.require&&"component"===_systemImportTransformerGlobalIdentifier.require.loader?Promise.resolve(require(revealMarkdownURL)):Promise.resolve(_systemImportTransformerGlobalIdentifier[revealMarkdownURL]));setTheme(themename);const instance=new Reveal(element,{hash:!1,fragmentInURL:!1,slideNumber:!0,plugins:[RevealMarkdown],keyboard:{37:"prev",39:"next",32:null,13:null,27:null,33:null,34:null,36:null,35:null},embedded:!0,touch:!0,overview:!1,controls:!0,progress:!0});return instance.on("ready",(function(){instance.layout()})),addEventListener("RevealCSSLoaded",(function(){instance.layout()})),instance},_exports.setTheme=setTheme,_log=(obj=_log)&&obj.__esModule?obj:{default:obj};var _systemImportTransformerGlobalIdentifier="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};const globalRemoteHost="https://cdn.jsdelivr.net/npm/reveal.js@5.2.1",globalJSURL="".concat(globalRemoteHost,"/dist/reveal.js"),globalThemeURL="".concat(globalRemoteHost,"/dist/theme/{theme}.min.css"),globalCssURL="".concat(globalRemoteHost,"/dist/reveal.min.css"),globalMarkdownURL="".concat(globalRemoteHost,"/plugin/markdown/markdown.js"),chinaRemoteHost="https://cdn.bootcdn.net/ajax/libs/reveal.js/5.2.1",chinaJSURL="".concat(chinaRemoteHost,"/reveal.min.js"),chinaThemeURL="".concat(chinaRemoteHost,"/theme/{theme}.min.css"),chinaCssURL="".concat(chinaRemoteHost,"/reveal.min.css"),chinaMarkdownURL="".concat(chinaRemoteHost,"/plugin/markdown/markdown.min.js");let theregion=null,currenttheme="beige",themeLinkElement=null,revealcssLinkElement=document.querySelector("link#revealCssRoot");function getThemeURL(){let theme=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return"ningxia"===theregion?chinaThemeURL.replace("{theme}",theme||"beige"):globalThemeURL.replace("{theme}",theme||"beige")}function hasRevealCSS(){return Array.from(document.styleSheets).some((sheet=>{try{return sheet.href&&sheet.href.toLowerCase().includes("reveal.min.css")}catch(e){return!1}}))}function appendLinkElement(linkEl){let appendLinkEl=arguments.length>1&&void 0!==arguments[1]?arguments[1]:revealcssLinkElement;if(!appendLinkEl){let lastLink=document.querySelectorAll("head > link");lastLink.length>0&&(appendLinkEl=lastLink.item(lastLink.length-1))}appendLinkEl?appendLinkEl.insertAdjacentElement("afterend",linkEl):document.querySelector("head").append(linkEl)}function setTheme(newtheme){var cssfilename;cssfilename=currenttheme+".min.css",themeLinkElement=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).find((link=>link.href&&link.href.toLowerCase().includes(cssfilename)))||null,themeLinkElement?themeLinkElement.setAttribute("href",getThemeURL(newtheme)):(themeLinkElement=document.createElement("link"),themeLinkElement.setAttribute("rel","stylesheet"),themeLinkElement.setAttribute("href",getThemeURL(newtheme)),themeLinkElement.addEventListener("load",(function(){dispatchEvent(new CustomEvent("RevealCSSLoaded"))})),appendLinkElement(themeLinkElement)),currenttheme=newtheme||"beige"}_log.default.debug("MiniLesson Reveal JS helper: initialising")}));

//# sourceMappingURL=reveal.min.js.map